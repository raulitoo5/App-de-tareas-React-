(this["webpackJsonpplatzi-intro-react-base"]=this["webpackJsonpplatzi-intro-react-base"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(23)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(4),c=a.n(l);a(13);const r=n.a.createContext();function s(e){let{children:t}=e;const{item:a,actualizarItem:l,loading:c,error:s}=function(e,t){const[a,n]=Object(o.useState)(t),[l,c]=Object(o.useState)(!0),[r,s]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{setTimeout(()=>{try{const a=localStorage.getItem(e);let o;a?(o=JSON.parse(a),n(o)):(localStorage.setItem(e,JSON.stringify(t)),o=t),c(!1)}catch(r){c(!1),s(!0),console.log("El error es: ",r)}},2e3)},[]),{item:a,actualizarItem:t=>{localStorage.setItem(e,JSON.stringify(t)),n(t)},loading:l,error:r}}("todos_v1",[]),[u,m]=Object(o.useState)(""),[d,i]=Object(o.useState)(!1),p=a.filter(e=>!!e.completado).length,E=a.length,f=a.filter(e=>{const t=e.text.toLowerCase(),a=u.toLowerCase();return t.includes(a)});return n.a.createElement(r.Provider,{value:{loading:c,error:s,todosBuscados:f,totalTodos:E,todosCompletados:p,actualizarTodos:l,buscador:u,setBuscador:m,completarTodo:e=>{const t=[...a],o=t.findIndex(t=>t.text==e);t[o].completado="true",l(t)},deleteTodo:e=>{const t=a.filter(t=>t.text!=e);l(t)},openModal:d,setOpenModal:i,addTodo:e=>{const t=[...a];t.push({text:e,completado:!1}),l(t)}}},t)}a(14),a(15);function u(){const{todosCompletados:e,totalTodos:t}=n.a.useContext(r);return n.a.createElement("h1",{className:"ToDoCounter"},"Has completado ",n.a.createElement("span",null,e)," de ",n.a.createElement("span",null,t)," TODOS")}a(16);function m(e){return n.a.createElement("ul",{className:"TodoList"},e.children)}a(17);function d(){const{buscador:e,setBuscador:t}=Object(o.useContext)(r);return n.a.createElement("input",{className:"TodoSearch",placeholder:"Cortar cebolla",value:e,onChange:e=>{t(e.target.value)}})}a(18);var i=a(2);function p(e){let{text:t,completado:a,onComplete:o,onDelete:l}=e;return n.a.createElement("li",{className:"TodoItem"},n.a.createElement("span",{className:"Icon Icon-check "+(a&&"Icon-check--active"),onClick:o},n.a.createElement(i.a,null)),n.a.createElement("p",{className:`TodoItem-p ${a&&"TodoItem-p--complete"} `}," ",t," "),n.a.createElement("span",{className:"Icon Icon-delete",onClick:l},n.a.createElement(i.b,null)))}a(19);function E(e){let{setOpenModal:t}=e;return n.a.createElement("button",{className:"CreateToDoButton",onClick:()=>{t(e=>!e)}},"+")}a(20);function f(){return n.a.createElement("div",{className:"TodosLoading-container"},n.a.createElement("span",{className:"TodosLoading-completeIcon"}),n.a.createElement("p",{className:"TodosLoading-text"},"Cargando..."),n.a.createElement("span",{className:"TodosLoading-deleteIcon"}))}var b=a(1),g=a.n(b);a(21);function T(e){let{children:t}=e;return g.a.createPortal(n.a.createElement("div",{className:"ModalBackground"},t),document.getElementById("modal"))}a(22);function C(){const{setOpenModal:e,addTodo:t}=Object(o.useContext)(r),[a,l]=Object(o.useState)("");return n.a.createElement("form",{onSubmit:o=>{o.preventDefault(),e(!1),t(a)}},n.a.createElement("label",null," Escribe tu nuevo TODO "),n.a.createElement("textarea",{placeholder:"Hacer la cama",value:a,onChange:e=>{l(e.target.value)}}),n.a.createElement("div",{className:"TodoForm-buttonContainer"},n.a.createElement("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:()=>{e(!1)}}," Cancelar "),n.a.createElement("button",{type:"submit",className:"TodoForm-button TodoForm-button--add"}," A\xf1adir ")))}function O(){const{loading:e,error:t,todosBuscados:a,completarTodo:o,deleteTodo:l,openModal:c,setOpenModal:s}=n.a.useContext(r);return n.a.createElement(n.a.Fragment,null,n.a.createElement(u,null),n.a.createElement(d,null),n.a.createElement(m,null,e&&n.a.createElement(n.a.Fragment,null,n.a.createElement(f,null),n.a.createElement(f,null),n.a.createElement(f,null)),t&&n.a.createElement("p",null," Error: ",t," "),!e&&0==a.length&&n.a.createElement("p",null," Crea tu primer todo "),a.map(e=>n.a.createElement(p,{key:e.text,text:e.text,completado:e.completado,onComplete:()=>o(e.text),onDelete:()=>l(e.text)}))),n.a.createElement(E,{setOpenModal:s,openModal:c}),c&&n.a.createElement(T,null,n.a.createElement(C,null)))}var h=function(){return n.a.createElement(s,null,n.a.createElement(O,null))};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(h,null))}],[[5,1,2]]]);
//# sourceMappingURL=main.9b7f7f82.chunk.js.map